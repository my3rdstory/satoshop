{% extends "expert/base.html" %}
{% load static %}

{% block title %}라이트닝 로그인 안내 - SatoShop Expert{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'expert/css/login_lightning.css' %}">
{% endblock %}

{% block content %}
<section class="section login-guide-section">
    <div class="container">
        <div class="columns is-variable is-6">
            <div class="column is-6">
                <div class="login-hero">
                    <span class="login-badge">Lightning Auth</span>
                    <h1 class="title is-2">라이트닝 로그인으로<br>안전하게 인증하세요.</h1>
                    <p class="subtitle is-5">
                        SatoShop에서 사용하는 LNURL-auth와 완전히 동일한 절차입니다.
                        기존 라이트닝 인증 계정이라면 그대로 로그인 되고, 처음이라면 자동으로 계정이 생성됩니다.
                    </p>
                    <p class="login-note">
                        <strong>SatoShop 메인 서비스와 회원 DB를 100% 공유</strong>하므로,
                        이미 사토샵에서 라이트닝 로그인한 계정이라면 별도 가입 없이 즉시 사용할 수 있습니다.
                    </p>
                    <div class="login-actions">
                        <a class="button is-primary is-medium" href="{{ lightning_login_url }}">
                            <span class="icon"><i data-feather="zap"></i></span>
                            <span>라이트닝 로그인 시작</span>
                        </a>
                        <a class="button is-light is-medium" href="{{ standard_login_url }}">
                            <span class="icon"><i data-feather="user"></i></span>
                            <span>일반 로그인으로 이동</span>
                        </a>
                    </div>
                    <p class="login-destination">
                        로그인 후 이동: <strong>{{ redirect_target }}</strong>
                    </p>
                </div>
            </div>
            <div class="column is-6">
                <div class="guide-card">
                    <h2 class="title is-4">라이트닝 로그인, 이렇게 진행돼요</h2>
                    <ol class="guide-steps">
                        <li>
                            <span class="step-number">1</span>
                            <div>
                                <p class="step-title">`라이트닝 로그인 시작` 버튼을 클릭</p>
                                <p class="step-desc">QR 코드 또는 LNURL-auth 문자열이 생성됩니다.</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">2</span>
                            <div>
                                <p class="step-title">LNURL-auth 지원 지갑으로 스캔</p>
                                <p class="step-desc">Wallet of Satoshi, Zeus, Breez, Muun 등 대부분의 지갑에서 지원합니다.</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">3</span>
                            <div>
                                <p class="step-title">지갑에서 서명으로 인증</p>
                                <p class="step-desc">결제는 발생하지 않으며, 지갑의 개인키 서명만 사용합니다.</p>
                            </div>
                        </li>
                        <li>
                            <span class="step-number">4</span>
                            <div>
                                <p class="step-title">자동 로그인 또는 계정 생성</p>
                                <p class="step-desc">기존 계정은 바로 로그인, 처음이면 동일한 라이트닝 아이디로 계정이 만들어집니다.</p>
                            </div>
                        </li>
                    </ol>
                    <div class="compatibility-box">
                        <h3 class="title is-6">SatoShop 로그인과 100% 호환</h3>
                        <ul>
                            <li><i data-feather="check-circle"></i> 동일한 라이트닝 인증 인프라를 사용합니다.</li>
                            <li><i data-feather="check-circle"></i> SatoShop에서 이미 로그인한 계정이라면 추가 등록 없이 이용 가능합니다.</li>
                            <li><i data-feather="check-circle"></i> Expert에서 생성된 계약도 SatoShop 계정으로 관리됩니다.</li>
                        </ul>
                    </div>
                    <div class="wallet-note">
                        <h4 class="title is-6">지원 지갑 안내</h4>
                        <p class="has-text-weight-semibold">지원</p>
                        <p>Wallet of Satoshi · Speed · Phoenix · Zeus · Breez · Muun</p>
                        <p class="has-text-weight-semibold mt-3">미지원</p>
                        <p>Strike, Blink 등 일부 지갑은 LNURL-auth를 제공하지 않습니다.</p>
                        <p class="mt-3 has-text-warning">
                            <i data-feather="alert-triangle"></i>
                            지원하지 않는 지갑에서는 "인보이스가 아닙니다"와 같은 메시지가 나타날 수 있습니다.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
