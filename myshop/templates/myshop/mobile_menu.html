{% load static %}

<!-- 모바일 메뉴 컴포넌트 -->
<div id="mobile-menu" class="md:hidden hidden bg-gray-800 border-t border-gray-700">
  <div class="px-2 py-2 space-y-0.5">
    
    <!-- 스토어에서만: Hub 메인으로 -->
    {% if store %}
    <a href="{% url 'myshop:home' %}?force_home=1" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-home mr-2"></i>Hub 메인으로
    </a>
    {% endif %}
    
    <a href="{% url 'stores:browse_stores' %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-search mr-2"></i>스토어 탐색
    </a>

    <a href="{% url 'boards:notice_list' %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-bullhorn mr-2"></i>공지사항
    </a>

    <a href="{% url 'stores:bah_promotion_request' %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-store mr-2"></i>BAH 홍보요청
    </a>

    <div class="mt-2 px-3 text-xs uppercase tracking-wide text-gray-500">유용한 링크</div>
    <a href="{% url 'boards:hall_of_fame_list' %}" class="mt-1 block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-trophy mr-2"></i>명예의전당
    </a>
    <a href="{% url 'boards:meme_list' %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-images mr-2"></i>밈갤러리
    </a>
    
    {% if user.is_authenticated %}
    <a href="{% url 'accounts:mypage' %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-user-cog mr-2"></i>마이페이지
    </a>
    
    {% if user_has_active_store and user_active_store.is_active %}
    <a href="{% url 'stores:my_stores' %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-store mr-2"></i>스토어 관리
    </a>
    <a href="{% url 'stores:store_detail' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-eye mr-2"></i>내 스토어 보기
    </a>
    <div class="border-t border-gray-600 my-1"></div>
    <a href="{% url 'stores:product_list' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-box mr-2"></i>상품관리
    </a>
    <a href="{% url 'orders:order_management' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-shopping-cart mr-2"></i>주문관리
    </a>
    <a href="{% url 'orders:payment_transactions' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-receipt mr-2"></i>결제 정보 확인
    </a>
    <div class="border-t border-gray-600 my-1"></div>
    <a href="{% url 'menu:menu_orders' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-chart-line mr-2"></i>메뉴 판매 현황
    </a>    
    <a href="{% url 'menu:menu_list' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-utensils mr-2"></i>메뉴 관리
    </a>
    <a href="{% url 'menu:menu_board_desktop' store_id=user_active_store.store_id %}" target="_blank" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-desktop mr-2"></i>메뉴판 이동(Desktop)
    </a>
    <a href="{% url 'menu:menu_board_mobile' store_id=user_active_store.store_id %}" target="_blank" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-mobile-alt mr-2"></i>메뉴판 이동(Mobile)
    </a>
    <div class="border-t border-gray-600 my-1"></div>
    <a href="{% url 'meetup:meetup_list' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-users mr-2"></i>밋업 관리
    </a>
   <a href="{% url 'meetup:meetup_status' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
     <i class="fas fa-chart-bar mr-2"></i>밋업 현황
   </a>
    <a href="{% url 'meetup:meetup_payment_transactions' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-receipt mr-2"></i>결제 정보 확인
    </a>
    <div class="border-t border-gray-600 my-1"></div>
    <a href="{% url 'lecture:live_lecture_list' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-video mr-2"></i>라이브 강의 관리
    </a>
    <a href="{% url 'lecture:live_lecture_status' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-chart-pie mr-2"></i>라이브 강의 현황
    </a>
    <a href="{% url 'lecture:live_lecture_payment_transactions' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-receipt mr-2"></i>결제 정보 확인
    </a>
    <div class="border-t border-gray-600 my-1"></div>
    <a href="{% url 'file:file_manage' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-file-download mr-2"></i>파일 관리
    </a>
    <a href="{% url 'file:file_orders' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-chart-area mr-2"></i>파일 현황
    </a>
    <a href="{% url 'file:file_payment_transactions' store_id=user_active_store.store_id %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-receipt mr-2"></i>결제 정보 확인
    </a>
    {% else %}
    <a href="{% url 'stores:create_store' %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-plus mr-2"></i>스토어 만들기
    </a>
    {% endif %}
    
    <a href="#" onclick="logout()" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-sign-out-alt mr-2"></i>로그아웃
    </a>
    {% else %}
    <a href="#" onclick="redirectToSignup()" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-user-plus mr-2"></i>회원가입
    </a>
    <a href="#" onclick="redirectToLogin()" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-sign-in-alt mr-2"></i>로그인
    </a>
    <a href="{% url 'accounts:lightning_login' %}{% if request.GET.next %}?next={{ request.GET.next|urlencode }}{% endif %}" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <i class="fas fa-bolt mr-2"></i>라이트닝 로그인
    </a>
    {% endif %}
    
    <a href="#" onclick="toggleTheme(); return false;" class="block px-3 py-1.5 text-gray-300 hover:text-bitcoin hover:bg-gray-700 rounded-md">
      <span class="theme-toggle-menu-item">
        <i class="fas fa-sun theme-sun-icon" style="display: none;"></i>
        <i class="fas fa-moon theme-moon-icon mr-2"></i>
        <span class="theme-text">다크 모드로</span>
      </span>
    </a>
  </div>
</div>

<!-- 모바일 메뉴 CSS/JS -->
<link rel="stylesheet" href="{% static 'css/mobile_menu.css' %}">
<script src="{% static 'js/mobile_menu.js' %}"></script> 
