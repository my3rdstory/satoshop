{% extends 'myshop/base.html' %}
{% load static %}
{% load static_versioned %}
{% load humanize %}

{% block title %}
  {% if site_settings and site_settings.site_title and site_settings.site_description %}
    {{ site_settings.site_title }} - {{ site_settings.site_description }}
  {% else %}
    SatoShop - 비트코인 라이트닝 결제 플랫폼
  {% endif %}
{% endblock %}

<!-- Open Graph Meta Tags for Home -->
{% block og_title %}
  {% if site_settings and site_settings.site_title and site_settings.site_description %}
    {{ site_settings.site_title }} - {{ site_settings.site_description }}
  {% else %}
    SatoShop - 비트코인 라이트닝 결제 플랫폼
  {% endif %}
{% endblock %}
{% block og_description %}
  {% if site_settings and site_settings.hero_description %}
    {{ site_settings.hero_description }}
  {% else %}
    누구나 쉽게 만드는 비트코인 온라인 스토어. 5분 만에 스토어를 구축하고 라이트닝 네트워크로 즉시 결제받으세요.
  {% endif %}
{% endblock %}
{% block og_type %}website{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static_v 'myshop/css/home.css' %}">
{% endblock %}

{% block extra_js %}
  <script src="{% static_v 'myshop/js/home.js' %}" defer></script>
{% endblock %}

{% block content %}
<section class="relative overflow-hidden hero-gradient text-white">
  <div class="absolute inset-0 opacity-70 mix-blend-screen pattern-layer" aria-hidden="true"></div>
  <div class="absolute -left-20 -bottom-32 w-96 h-96 bg-bitcoin/40 blur-3xl rounded-full" aria-hidden="true"></div>
  <div class="absolute -right-32 -top-20 w-[28rem] h-[28rem] bg-emerald-400/40 blur-3xl rounded-full" aria-hidden="true"></div>
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 lg:py-32">
    <div class="grid gap-12 lg:grid-cols-[1.1fr_0.9fr] items-center">
      <div>
        <span class="inline-flex items-center px-4 py-2 rounded-full bg-white/15 text-sm font-medium uppercase tracking-wide backdrop-blur">
          ⚡ Lightning-Powered Commerce
        </span>
        <h1 class="mt-6 text-4xl sm:text-5xl lg:text-6xl font-extrabold leading-tight">
          {% if site_settings and site_settings.hero_title %}
            {{ site_settings.hero_title }}
          {% else %}
            비트코인 라이트닝으로<br class="hidden sm:block"/> 만드는 차세대 스토어
          {% endif %}
        </h1>
        <p class="mt-6 text-lg sm:text-xl text-white/80 max-w-2xl">
          {% if site_settings and site_settings.hero_description %}
            {{ site_settings.hero_description }}
          {% else %}
            누구나 5분 만에 온라인 스토어를 열고, 전세계 고객에게 즉시 결제받을 수 있습니다. 자동 환율 계산과 안전한 인보이스 처리까지 한 번에.
          {% endif %}
        </p>
        <div class="mt-10 flex flex-col sm:flex-row gap-4">
          {% if user.is_authenticated %}
            {% if not user_has_active_store %}
              <a class="inline-flex items-center justify-center gap-3 px-8 py-4 rounded-xl bg-white text-gray-900 font-semibold shadow-lg shadow-white/10 hover:shadow-white/20 transition" href="{% url 'stores:create_store' %}">
                <i class="fas fa-plus text-bitcoin"></i>
                내 스토어 개설하기
              </a>
            {% else %}
              <a class="inline-flex items-center justify-center gap-3 px-8 py-4 rounded-xl bg-white text-gray-900 font-semibold shadow-lg shadow-white/10 hover:shadow-white/20 transition" href="{% url 'stores:store_detail' store_id=user_active_store.store_id %}">
                <i class="fas fa-store"></i>
                내 스토어 관리하기
              </a>
            {% endif %}
          {% else %}
            <a class="inline-flex items-center justify-center gap-3 px-8 py-4 rounded-xl bg-white text-gray-900 font-semibold shadow-lg shadow-white/10 hover:shadow-white/20 transition" href="{% url 'accounts:signup' %}">
              <i class="fas fa-rocket text-bitcoin"></i>
              {% if site_settings and site_settings.hero_primary_button_text %}
                {{ site_settings.hero_primary_button_text }}
              {% else %}
                지금 무료로 시작하기
              {% endif %}
            </a>
          {% endif %}
          <a class="inline-flex items-center justify-center gap-3 px-8 py-4 rounded-xl border border-white/60 text-white font-semibold hover:bg-white/10 transition" href="{% url 'stores:browse_stores' %}">
            <i class="fas fa-compass"></i>
            {% if site_settings and site_settings.hero_secondary_button_text %}
              {{ site_settings.hero_secondary_button_text }}
            {% else %}
              라이브 스토어 둘러보기
            {% endif %}
          </a>
        </div>
        <dl class="mt-12 grid grid-cols-2 gap-6 max-w-lg text-left">
          <div class="stat-card">
            <dt class="text-sm font-medium text-white/70">구축 소요 시간</dt>
            <dd class="mt-1 text-3xl font-bold">5분</dd>
            <p class="mt-2 text-sm text-white/70">템플릿 선택 후 즉시 결제 연동</p>
          </div>
          <div class="stat-card">
            <dt class="text-sm font-medium text-white/70">라이트닝 결제 성공률</dt>
            <dd class="mt-1 text-3xl font-bold">99.9%</dd>
            <p class="mt-2 text-sm text-white/70">Blink 기반 실시간 검증</p>
          </div>
        </dl>
      </div>
      <div class="relative">
        <div class="relative rounded-3xl bg-white/10 backdrop-blur-sm border border-white/10 shadow-2xl p-6 sm:p-8">
          <div class="flex items-center gap-3 text-sm font-semibold text-white/80">
            <span class="px-3 py-1 rounded-full bg-white/10">Live Dashboard</span>
            <span class="px-3 py-1 rounded-full bg-white/10">Lightning Ready</span>
          </div>
          <div class="mt-6 space-y-4 text-sm text-white/80">
            <div class="demo-card">
              <div class="flex items-start justify-between gap-4">
                <div>
                  <p class="text-xs uppercase tracking-wide text-white/60">스토어 현황</p>
                  <p class="mt-1 text-2xl font-semibold">
                    {{ home_metrics.total_stores|default_if_none:0|intcomma }}개
                  </p>
                </div>
                <span class="badge-success">
                  활성 {{ home_metrics.active_stores|default_if_none:0|intcomma }}개
                </span>
              </div>
              <p class="mt-3 text-xs text-white/70">
                장고 어드민 기준 운영 중인 스토어 수치를 실시간 반영합니다.
              </p>
            </div>
            <div class="demo-card">
              <div class="flex items-start justify-between gap-4">
                <div>
                  <p class="text-xs uppercase tracking-wide text-white/60">등록된 아이템</p>
                  <p class="mt-1 text-2xl font-semibold">
                    {{ home_metrics.items.total|default_if_none:0|intcomma }}개
                  </p>
                </div>
                <span class="badge-neutral">총합</span>
              </div>
              <div class="mt-3 text-xs text-white/70 flex flex-wrap gap-x-4 gap-y-1">
                <span>상품 {{ home_metrics.items.products|default_if_none:0|intcomma }}개</span>
                <span>밋업 {{ home_metrics.items.meetups|default_if_none:0|intcomma }}개</span>
                <span>파일 {{ home_metrics.items.digital_files|default_if_none:0|intcomma }}개</span>
                <span>라이브강의 {{ home_metrics.items.live_lectures|default_if_none:0|intcomma }}개</span>
                <span>메뉴 {{ home_metrics.items.menus|default_if_none:0|intcomma }}개</span>
              </div>
            </div>
            <div class="demo-card">
              {% if home_metrics.exchange_rate %}
              <div class="flex items-start justify-between gap-4">
                <div>
                  <p class="text-xs uppercase tracking-wide text-white/60">BTC/KRW 환율</p>
                  <p class="mt-1 text-2xl font-semibold">
                    1 BTC = {{ home_metrics.exchange_rate.btc_krw_rate|floatformat:0|intcomma }}원
                  </p>
                </div>
                <span class="badge-neutral">업비트</span>
              </div>
              <p class="mt-3 text-xs text-white/70">
                {{ home_metrics.exchange_rate.updated_at|date:"m월 d일 H:i" }} 기준 업비트 동기화 값입니다.
              </p>
              {% else %}
              <div>
                <p class="text-xs uppercase tracking-wide text-white/60">BTC/KRW 환율</p>
                <p class="mt-1 text-base font-semibold">현재 환율 데이터를 불러오는 중입니다.</p>
              </div>
              {% endif %}
            </div>
          </div>
          <div class="mt-8 rounded-2xl bg-gray-900/60 px-4 py-6">
            <p class="text-sm text-white/70">“SatoShop 덕분에 라이트닝 결제를 가장 빠르게 도입했습니다. 고객 만족도도 함께 올랐어요.”</p>
            <p class="mt-4 text-sm font-semibold text-white">— BTC Seoul Merch</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="py-16 bg-gray-50 dark:bg-gray-950 border-b border-gray-200/60 dark:border-gray-800">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-center text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white">왜 크리에이터와 상인들이 SatoShop을 선택할까요?</h2>
    <p class="mt-4 text-center text-base text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">맞춤형 스토어 제작부터 글로벌 결제까지, 라이트닝 네트워크 기반 전자상거래를 위한 모든 기능을 제공합니다.</p>
    <div class="mt-12 grid gap-8 md:grid-cols-3">
      <article class="feature-card">
        <div class="icon-circle bg-bitcoin/15 text-bitcoin">
          <i class="fas fa-bolt"></i>
        </div>
        <h3 class="mt-6 text-xl font-semibold text-gray-900 dark:text-white">즉시 결제 & 정산</h3>
        <p class="mt-3 text-sm text-gray-600 dark:text-gray-300">Blink API와 연동된 라이트닝 결제 시스템으로 전세계 고객에게 초고속 결제 경험을 제공하세요.</p>
      </article>
      <article class="feature-card">
        <div class="icon-circle bg-emerald-500/15 text-emerald-400">
          <i class="fas fa-wand-magic-sparkles"></i>
        </div>
        <h3 class="mt-6 text-xl font-semibold text-gray-900 dark:text-white">노코드 스토어 빌더</h3>
        <p class="mt-3 text-sm text-gray-600 dark:text-gray-300">템플릿 선택, 컬러 커스터마이징, 제품 등록까지 안내형 워크플로로 누구나 손쉽게 시작할 수 있습니다.</p>
      </article>
      <article class="feature-card">
        <div class="icon-circle bg-sky-500/15 text-sky-400">
          <i class="fas fa-shield-halved"></i>
        </div>
        <h3 class="mt-6 text-xl font-semibold text-gray-900 dark:text-white">안정적인 운영 도구</h3>
        <p class="mt-3 text-sm text-gray-600 dark:text-gray-300">실시간 환율, 주문/결제 로그, 고객 관리 등 실제 운영에 필요한 도구를 한 화면에서 제공합니다.</p>
      </article>
    </div>
  </div>
</section>

<section class="py-20 bg-white dark:bg-gray-900">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid gap-12 lg:grid-cols-2 lg:items-center">
      <div>
        <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white">세 단계로 완성하는 라이트닝 스토어</h2>
        <p class="mt-4 text-base text-gray-600 dark:text-gray-300">복잡한 온보딩 없이, 계정을 만들고 제품을 등록하는 것만으로 준비가 끝납니다.</p>
        <div class="mt-10 space-y-8">
          <div class="process-item">
            <div class="step-index">1</div>
            <div>
              <h3 class="text-lg font-semibold text-gray-900 dark:text-white">스토어 생성 & 브랜드 세팅</h3>
              <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">로고, 소개 문구, 연락처를 입력하면 즉시 브랜드 홈이 완성됩니다.</p>
            </div>
          </div>
          <div class="process-item">
            <div class="step-index">2</div>
            <div>
              <h3 class="text-lg font-semibold text-gray-900 dark:text-white">상품 업로드 & 옵션 구성</h3>
              <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">이미지 드래그앤드롭과 옵션 템플릿으로 다양한 상품을 빠르게 등록하세요.</p>
            </div>
          </div>
          <div class="process-item">
            <div class="step-index">3</div>
            <div>
              <h3 class="text-lg font-semibold text-gray-900 dark:text-white">라이트닝 결제 연결</h3>
              <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">Blink API 키만 입력하면 실시간 결제 확인과 자동 환율 계산이 완료됩니다.</p>
            </div>
          </div>
        </div>
      </div>
      <div class="relative">
        <div class="workflow-card">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">라이브 운영 인사이트</h3>
          <ul class="mt-6 space-y-5 text-sm text-gray-600 dark:text-gray-300">
            <li class="flex items-start gap-3">
              <span class="icon-bullet">
                <i class="fas fa-clock"></i>
              </span>
              실시간 환율 동기화로 KRW · BTC 가격을 동시에 안내
            </li>
            <li class="flex items-start gap-3">
              <span class="icon-bullet">
                <i class="fas fa-receipt"></i>
              </span>
              주문·인보이스 기록을 하나의 대시보드에서 모니터링
            </li>
            <li class="flex items-start gap-3">
              <span class="icon-bullet">
                <i class="fas fa-shield-check"></i>
              </span>
              결제 오류 시 자동 재시도 및 알림 시스템으로 안정성 확보
            </li>
          </ul>
          <div class="mt-8 rounded-2xl border border-dashed border-gray-300 dark:border-gray-700 p-6">
            <h4 class="text-base font-semibold text-gray-900 dark:text-white">라이트닝 생태계와 완전 호환</h4>
            <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">Phoenix, Breez, Muun 등 주요 지갑과 원활히 작동하며, 비개발자도 손쉽게 설정 가능합니다.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="py-16 bg-gray-50 dark:bg-gray-950 border-y border-gray-200/70 dark:border-gray-800">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between">
      <div>
        <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white">다양한 비즈니스에 딱 맞는 경험</h2>
        <p class="mt-3 text-base text-gray-600 dark:text-gray-300">한 번의 플랫폼으로 커뮤니티 굿즈샵부터 글로벌 디지털 상품 판매까지 대응합니다.</p>
      </div>
      <a href="{% url 'stores:browse_stores' %}" class="inline-flex items-center gap-2 text-sm font-semibold text-bitcoin hover:text-bitcoin/80">
        실제 운영중인 스토어 살펴보기
        <i class="fas fa-arrow-right"></i>
      </a>
    </div>
    <div class="mt-10 grid gap-6 md:grid-cols-3">
      <article class="usecase-card">
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">글로벌 굿즈 스토어</h3>
        <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">커뮤니티·이벤트 굿즈를 전세계 팬에게 라이트닝 결제로 판매하고, 배송 트래킹을 한 곳에서 관리하세요.</p>
        <ul class="mt-4 space-y-2 text-sm text-gray-500 dark:text-gray-400">
          <li><i class="fas fa-check text-emerald-400 mr-2"></i>국가별 배송비 & 주문 메모 지원</li>
          <li><i class="fas fa-check text-emerald-400 mr-2"></i>다중 이미지 및 옵션 세트</li>
        </ul>
      </article>
      <article class="usecase-card">
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">디지털 콘텐츠 판매</h3>
        <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">영상, 문서, 강의 등 파일을 인보이스 결제 후 즉시 다운로드할 수 있도록 자동화하세요.</p>
        <ul class="mt-4 space-y-2 text-sm text-gray-500 dark:text-gray-400">
          <li><i class="fas fa-check text-emerald-400 mr-2"></i>보안이 적용된 파일 전달</li>
          <li><i class="fas fa-check text-emerald-400 mr-2"></i>맞춤 후속 안내 메일</li>
        </ul>
      </article>
      <article class="usecase-card">
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">오프라인 라이트닝 결제</h3>
        <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">카페, 행사, 팝업 스토어에서 모바일 POS로 QR 결제를 받고 실시간으로 정산하세요.</p>
        <ul class="mt-4 space-y-2 text-sm text-gray-500 dark:text-gray-400">
          <li><i class="fas fa-check text-emerald-400 mr-2"></i>현장 결제 알림 & 영수증</li>
          <li><i class="fas fa-check text-emerald-400 mr-2"></i>반복 결제 및 재고 관리</li>
        </ul>
      </article>
    </div>
  </div>
</section>

<section class="py-20 bg-white dark:bg-gray-900">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid gap-12 lg:grid-cols-[1fr_1.2fr]">
      <div>
        <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white">신뢰할 수 있는 운영 파트너</h2>
        <p class="mt-4 text-base text-gray-600 dark:text-gray-300">라이트닝 네트워크 전문가와 커뮤니티가 함께 개발·검증한 오픈소스 프로젝트입니다.</p>
        <div class="mt-10 space-y-6">
          <div class="flex items-center gap-3">
            <div class="integration-pill">Blink</div>
            <div class="integration-pill">BTCPay</div>
            <div class="integration-pill">Phoenix Wallet</div>
          </div>
          <div class="flex items-center gap-3">
            <div class="integration-pill">Muun</div>
            <div class="integration-pill">Breez</div>
            <div class="integration-pill">LNURL</div>
          </div>
        </div>
        <p class="mt-6 text-sm text-gray-500 dark:text-gray-400">API 키 암호화, 정기 환율 업데이트, 자동화된 주문 복구 도구 등 실전 운영을 위한 안전장치가 기본으로 제공됩니다.</p>
      </div>
      <div>
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">사용자 후기</h3>
        <div class="mt-6 grid gap-6 md:grid-cols-2">
          <blockquote class="testimonial-card">
            <p class="text-sm text-gray-600 dark:text-gray-300">“해외 팬들이 원화를 비트코인으로 바로 결제할 수 있어서 주문량이 3배 늘었습니다.”</p>
            <footer class="mt-4 text-sm font-semibold text-gray-900 dark:text-white">BTC Creators
              <span class="block text-xs font-normal text-gray-500 dark:text-gray-400">굿즈 마켓 운영</span>
            </footer>
          </blockquote>
          <blockquote class="testimonial-card">
            <p class="text-sm text-gray-600 dark:text-gray-300">“POS 없이 QR만으로 라이트닝 결제를 받아 실물 행사 운영 비용이 크게 줄었어요.”</p>
            <footer class="mt-4 text-sm font-semibold text-gray-900 dark:text-white">Cafe Lightning
              <span class="block text-xs font-normal text-gray-500 dark:text-gray-400">오프라인 카페</span>
            </footer>
          </blockquote>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="py-20 bg-gray-50 dark:bg-gray-950 border-y border-gray-200/70 dark:border-gray-800">
  <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-center text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white">자주 묻는 질문</h2>
    <p class="mt-4 text-center text-base text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">궁금증을 빠르게 해결하고, 직접 스토어를 만들어보세요.</p>
    <div class="mt-10 space-y-4" id="home-faq" data-faq>
      <div class="faq-item">
        <button type="button" class="faq-trigger">
          <span>라이트닝 지갑이 없어도 스토어를 사용할 수 있나요?</span>
          <i class="fas fa-plus"></i>
        </button>
        <div class="faq-content">
          <p>네. Blink 계정을 만들고 API 키만 발급받으면 자동으로 결제 시스템이 연결됩니다. 고객은 자신이 선호하는 라이트닝 지갑으로 결제하면 됩니다.</p>
        </div>
      </div>
      <div class="faq-item">
        <button type="button" class="faq-trigger">
          <span>실물 상품 배송과 디지털 상품 판매를 함께 운영할 수 있나요?</span>
          <i class="fas fa-plus"></i>
        </button>
        <div class="faq-content">
          <p>가능합니다. 배송 주소·메모 입력 기능과 결제 후 파일 전달 기능을 동시에 지원해 단일 스토어에서 다양한 상품 유형을 판매할 수 있습니다.</p>
        </div>
      </div>
      <div class="faq-item">
        <button type="button" class="faq-trigger">
          <span>개발 지식 없이도 디자인을 커스터마이징할 수 있을까요?</span>
          <i class="fas fa-plus"></i>
        </button>
        <div class="faq-content">
          <p>브랜드 컬러, 배경 그래디언트, 배너 이미지를 관리자에서 직접 변경할 수 있으며, 필요 시 커스텀 CSS를 추가로 적용할 수 있도록 설계되어 있습니다.</p>
        </div>
      </div>
      <div class="faq-item">
        <button type="button" class="faq-trigger">
          <span>기존 쇼핑몰에서 데이터를 가져올 수 있나요?</span>
          <i class="fas fa-plus"></i>
        </button>
        <div class="faq-content">
          <p>CSV 기반의 상품 일괄 등록과 이미지 일괄 업로드를 지원합니다. 향후 WooCommerce, Shopify 연동도 제공할 예정입니다.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="py-24 bg-gradient-to-br from-bitcoin via-orange-500 to-amber-400 text-gray-900">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <h2 class="text-3xl sm:text-4xl font-extrabold">라이트닝 결제를 가장 빠르게 도입하는 방법</h2>
    <p class="mt-4 text-base sm:text-lg text-gray-900/80">지금 바로 SatoShop에 가입하고, 전세계 비트코인 커뮤니티와 연결되는 스토어를 열어보세요.</p>
    <div class="mt-10 flex flex-col sm:flex-row gap-4 justify-center">
      {% if user.is_authenticated %}
        <a class="inline-flex items-center justify-center gap-3 px-8 py-4 rounded-xl bg-gray-900 text-white font-semibold shadow-lg hover:bg-gray-800 transition" href="{% url 'stores:create_store' %}">
          <i class="fas fa-bolt"></i>
          스토어 생성 바로 가기
        </a>
      {% else %}
        <a class="inline-flex items-center justify-center gap-3 px-8 py-4 rounded-xl bg-gray-900 text-white font-semibold shadow-lg hover:bg-gray-800 transition" href="{% url 'accounts:signup' %}">
          <i class="fas fa-bolt"></i>
          {% if site_settings and site_settings.hero_primary_button_text %}
            {{ site_settings.hero_primary_button_text }}
          {% else %}
            무료 계정 만들기
          {% endif %}
        </a>
      {% endif %}
      <a class="inline-flex items-center justify-center gap-3 px-8 py-4 rounded-xl bg-white/80 text-gray-900 font-semibold hover:bg-white transition" href="{% url 'stores:browse_stores' %}">
        <i class="fas fa-lightbulb"></i>
        기능 데모 살펴보기
      </a>
    </div>
  </div>
</section>
{% endblock %}
