{% extends 'stores/store_base.html' %}
{% load static %}

{% block title %}{{ store.store_name }} - 결제완료 안내 메시지 관리{% endblock %}

{% block og_title %}{{ store.store_name }} 결제완료 안내 메시지 관리 - SatoShop{% endblock %}
{% block og_description %}{{ store.store_name }}의 결제완료 안내 메시지를 설정하고 관리하세요.{% endblock %}
{% block twitter_title %}{{ store.store_name }} 결제완료 안내 메시지 관리 - SatoShop{% endblock %}
{% block twitter_description %}{{ store.store_name }}의 결제완료 안내 메시지를 설정하고 관리하세요.{% endblock %}

{% block extra_css %}
<style>
.completion-message-icon {
    background: linear-gradient(135deg, #8b5cf6 0%, #a855f7 100%);
}
</style>
{% endblock %}

{% block store_content %}
<div class="bg-gray-50 dark:bg-gray-900 py-8">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- 페이지 헤더 -->
    <div class="flex items-center justify-center mb-8">
      <div class="p-2 completion-message-icon rounded-full mr-3">
        <i class="fas fa-message text-3xl text-white"></i>
      </div>
      <div class="text-center">
        <h1 class="text-2xl font-bold text-gray-900 dark:text-white">결제완료 안내 메시지 관리</h1>
        <p class="text-sm text-gray-600 dark:text-gray-400">고객이 결제 완료 후 받을 기본 안내 메시지를 설정하세요</p>
      </div>
    </div>

    <!-- 뒤로가기 버튼 -->
    <div class="mb-6">
      <a href="{% url 'stores:my_stores' %}" class="inline-flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm">
        <i class="fas fa-arrow-left text-sm"></i>
        <span>내 스토어로 돌아가기</span>
      </a>
    </div>

    <!-- 안내 메시지 -->
    <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-6 mb-8">
      <div class="flex items-start">
        <div class="flex-shrink-0">
          <i class="fas fa-info-circle text-blue-600 dark:text-blue-400 text-xl"></i>
        </div>
        <div class="ml-4">
          <h3 class="text-lg font-semibold text-blue-800 dark:text-blue-200 mb-2">결제완료 안내 메시지란?</h3>
          <div class="text-blue-700 dark:text-blue-300 space-y-2">
            <p>• 고객이 주문을 완료한 후 주문완료 페이지에서 보게 되는 메시지입니다.</p>
            <p>• 배송 정보, 연락처, 주의사항 등을 안내할 수 있습니다.</p>
            <p>• 여기서 설정한 메시지는 새로운 상품을 추가할 때 자동으로 입력됩니다.</p>
            <p>• 개별 상품마다 다른 메시지를 설정하고 싶다면 상품 편집에서 수정할 수 있습니다.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 메시지 설정 폼 -->
    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-8">
      <div class="flex items-center mb-6">
        <div class="w-12 h-12 bg-purple-500/10 rounded-xl flex items-center justify-center shadow-lg mr-4">
          <i class="fas fa-message text-purple-500 text-lg"></i>
        </div>
        <div>
          <h2 class="text-xl font-bold text-gray-900 dark:text-white">기본 안내 메시지</h2>
          <p class="text-sm text-gray-600 dark:text-gray-400">결제 완료 후 고객에게 보여줄 기본 메시지를 입력하세요</p>
        </div>
      </div>

      <form method="post" class="space-y-6">
        {% csrf_token %}
        
        <div>
          <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" for="completion_message">
            안내 메시지
          </label>
          <textarea 
            class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400" 
            id="completion_message" 
            name="completion_message" 
            rows="8"
            placeholder="예시:
주문해주셔서 감사합니다!

📦 배송 정보
- 배송은 주문 후 2-3일 내 발송됩니다
- 배송 관련 문의는 아래 연락처로 문의해주세요

📞 연락처
- 카카오톡: @mystorename
- 이메일: contact@mystore.com

⚠️ 주의사항
- 배송 후 교환/환불은 불가능합니다
- 상품 하자 시에만 교환 가능합니다">{{ store.completion_message }}</textarea>
          <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">
            배송 정보, 연락처, 주의사항 등을 포함하여 고객에게 필요한 정보를 안내하세요
          </p>
        </div>

        <div class="flex justify-end space-x-4">
          <a href="{% url 'stores:my_stores' %}" 
             class="px-6 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
            취소
          </a>
          <button type="submit" 
                  class="px-8 py-3 bg-purple-600 hover:bg-purple-700 text-white font-medium rounded-lg transition-colors shadow-lg">
            <i class="fas fa-save mr-2"></i>
            저장하기
          </button>
        </div>
      </form>
    </div>

    <!-- 미리보기 -->
    {% if store.completion_message %}
    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-8 mt-8">
      <div class="flex items-center mb-6">
        <div class="w-12 h-12 bg-green-500/10 rounded-xl flex items-center justify-center shadow-lg mr-4">
          <i class="fas fa-eye text-green-500 text-lg"></i>
        </div>
        <div>
          <h2 class="text-xl font-bold text-gray-900 dark:text-white">미리보기</h2>
          <p class="text-sm text-gray-600 dark:text-gray-400">고객이 보게 될 메시지 미리보기</p>
        </div>
      </div>

      <div class="bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 border border-gray-200 dark:border-gray-600">
        <div class="text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line leading-relaxed">{{ store.completion_message }}</div>
      </div>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %} 