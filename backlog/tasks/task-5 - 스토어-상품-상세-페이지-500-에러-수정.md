---
id: task-5
title: 스토어 상품 상세 페이지 500 에러 수정
status: Done
assignee:
  - '@codex'
created_date: '2025-09-24 22:12'
updated_date: '2025-09-24 22:14'
labels: []
dependencies: []
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
스토어 메인 화면에서 상품 썸네일을 눌러 진입할 때 500 오류가 발생합니다. 공용 상품 상세 페이지에서 장바구니 정보와 배송비 정보를 올바르게 준비하도록 수정해야 합니다.
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria
<!-- AC:BEGIN -->
- [x] #1 스토어 메인 화면에서 상품 썸네일을 클릭해도 상품 상세 페이지가 정상 응답한다.
- [x] #2 상품 상세 페이지에서 배송비 정보가 정확히 표시된다.
- [x] #3 게스트/로그인 사용자 모두 장바구니 정보 조회 시 에러가 발생하지 않는다.
<!-- AC:END -->

## Implementation Plan

<!-- SECTION:PLAN:BEGIN -->
1. stores.views.product_detail에서 배송비/장바구니 컨텍스트 누락 원인 확인
2. products.views.product_detail과 동일하게 CartService 및 배송비 계산 로직 적용
3. 상품 상세 페이지가 500을 반환하지 않는지 테스트 또는 로컬 검증
<!-- SECTION:PLAN:END -->

## Implementation Notes

<!-- SECTION:NOTES:BEGIN -->
- stores.views.product_detail에서 CartService 기반 장바구니 요약과 배송비 정보를 포함해 템플릿 누락 컨텍스트를 보완했습니다.
- python3 manage.py test stores.tests.test_views.ProductDetailViewTest 실행을 시도했으나 python-dotenv 미설치로 실패했습니다.
<!-- SECTION:NOTES:END -->
